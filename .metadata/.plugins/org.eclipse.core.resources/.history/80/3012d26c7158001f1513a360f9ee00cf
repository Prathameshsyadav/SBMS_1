package in.ashokit.repo;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Modifying;
import org.springframework.data.jpa.repository.Query;
import org.springframework.transaction.annotation.Transactional;

import in.ashokit.entity.Student;

public interface StuRepo extends JpaRepository<Student, Integer> {
	
/*	public List<Student> findByAddress(String address);
	
	public List<Student> findBySrollNoGreaterThan(Integer rollNo);
	
	public List<Student> findByAddressAndSname(String address, String sname);
*/
	@Modifying
	@Transactional
	@Query("Update Student set srollNo=:roll where sid=:id")
	public int updateStu(Integer roll, Integer id);
	
	@Modifying
	@Transactional
	@Query("Delete from Student where sid=:id")
	public void deleteStu(Integer id);
	
	@Modifying
	@Transactional
    @Query(value = "FROM Student (sid,sname, srollNo, address) VALUES (:sid,:sname, :srollNo, :address)")
    public void saveStudent(Integer sid,String sname, Integer srollNo, String address);
	
	@Query("FROM Student")
	public List<Student> getStu();

	
}
